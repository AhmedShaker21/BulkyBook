@model IEnumerable<Product>

<style>
    /* PRODUCT CARD */
    .product-card {
        border: none;
        border-radius: 16px;
        overflow: hidden;
        background: #fff;
        transition: transform .25s ease, box-shadow .25s ease;
        box-shadow: 0 3px 12px rgba(0,0,0,0.08);
    }

        .product-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

    .product-img {
        height: 260px;
        object-fit: cover;
        width: 100%;
        border-radius: 12px;
    }

    .book-title {
        font-weight: 700;
        font-size: 1.05rem;
        letter-spacing: .5px;
    }

    .author {
        font-size: .9rem;
        font-weight: 600;
        color: #fd7e14 !important;
    }

    .price-old {
        text-decoration: line-through;
        opacity: 0.7;
    }

    .price-new {
        color: #198754;
        font-weight: 700;
        font-size: 1rem;
    }

    .btn-details {
        border-radius: 12px;
        padding: .6rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: .5px;
    }
</style>

<div class="container py-4">
    <div class="row g-4">

        @foreach (var product in Model)
        {
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="product-card p-3">

                    <!-- IMAGE -->
                    @if (product.ProductImages != null && product.ProductImages.Any())
                    {
                        <img src="@product.ProductImages.First().ImageUrl" class="product-img" />
                    }
                    else
                    {
                        <img src="https://placehold.co/500x600?text=No+Image" class="product-img" />
                    }

                    <!-- TITLE & AUTHOR -->
                    <div class="text-center mt-3">
                        <div class="book-title text-dark">@product.Title</div>
                        <div class="author">
                            by @product.Author
                        </div>
                    </div>

                    <!-- PRICING -->
                    <div class="mt-3 text-center">
                        <div class="price-old">@product.ListPrice.ToString("c")</div>
                        <div class="price-new">As low as: @product.Price100.ToString("c")</div>
                    </div>

                    <!-- DETAILS BUTTON -->
                    <div class="mt-4">
                        <a asp-action="Details"
                           asp-route-productId="@product.Id"
                           class="btn btn-primary w-100 btn-details">
                            View Details
                        </a>
                    </div>

                </div>
            </div>
        }

    </div>
</div>
